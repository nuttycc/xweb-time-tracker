graph TB
    %% È°∂ÈÉ®ÔºöÂ§ñÈÉ®Ë∞ÉÂ∫¶Â±Ç
    J[Chrome APIs]
    
    %% ‰∏≠Èó¥Â±ÇÔºöÂ§ÑÁêÜÊ®°ÂùóÔºàÂ∑¶Âè≥ÂàÜÂ∏ÉÔºâ  
    subgraph TTM["üîµ Êó∂Èó¥ËøΩË∏™Ê®°Âùó"]
        A[ÊµèËßàÂô®‰∫ã‰ª∂ÁõëÂê¨]
        B[‰ºöËØùÁä∂ÊÄÅÁÆ°ÁêÜ] 
        C[‰∫ã‰ª∂ÁîüÊàêÂô®]
        
        A --> B --> C
    end
    
    subgraph TAM["üü¢ Êó∂Èó¥ËÅöÂêàÊ®°Âùó"]
        D[‰∫ã‰ª∂ËÅöÂêà Engine]
    end
    
    %% Â∫ïÈÉ®ÔºöÊï∞ÊçÆÂ≠òÂÇ®Â±Ç
    subgraph DBM["üü° Êï∞ÊçÆÂ∫ìÊ®°Âùó"]
        G[(eventslog Ë°®)]
        H[(aggregatedstats Ë°®)]
        I[indexedDB Â±Ç]
        
        G -.-> I
        H -.-> I
    end
    
    %% üî¥ Ê†∏ÂøÉÊï∞ÊçÆÊµÅ - Á∫¢Ëâ≤Á≤óÁ∫øÔºàÊúÄÈáçË¶ÅÔºâ
    C ==>|ÂÜôÂÖ•‰∫ã‰ª∂| G
    G ==>|ËØªÂèñÊú™Â§ÑÁêÜ‰∫ã‰ª∂| D  
    D ==>|ÂÜôÂÖ•ËÅöÂêàÊï∞ÊçÆ| H
    
    %% üîµ ÊéßÂà∂‰∏éÂèçÈ¶àÊµÅ - ËìùËâ≤ÔºàÈáçË¶ÅÔºâ
    J -->|ÂÆöÊó∂Ë∞ÉÂ∫¶| TAM
    D -->|Ê†áËÆ∞Â∑≤Â§ÑÁêÜ| G
    
    %% ‚ö™ Ê¨°Ë¶ÅËøûÊé• - ÈªòËÆ§ÁÅ∞Ëâ≤Ôºà‰∏ÄËà¨ÈáçË¶ÅÊÄßÔºâ
    J -.->|ÁõëÊéß| TTM
    
    %% Ê†∑ÂºèÂÆö‰πâ
    classDef timeTracking fill:#1e3a8a,stroke:#3b82f6,stroke-width:3px,color:#dbeafe
    classDef timeAggregation fill:#065f46,stroke:#10b981,stroke-width:3px,color:#d1fae5  
    classDef database fill:#7c2d12,stroke:#f59e0b,stroke-width:3px,color:#fef3c7
    classDef table fill:#451a03,stroke:#f59e0b,stroke-width:2px,color:#fef3c7
    classDef external fill:#4c1d95,stroke:#8b5cf6,stroke-width:2px,color:#e9d5ff
    classDef module fill:#374151,stroke:#9ca3af,stroke-width:2px,color:#f9fafb
    
    %% ÁÆ≠Â§¥Ê†∑ÂºèÂÆö‰πâ
    linkStyle 3 stroke:#dc2626,stroke-width:4px
    linkStyle 4 stroke:#dc2626,stroke-width:4px  
    linkStyle 5 stroke:#dc2626,stroke-width:4px
    linkStyle 6 stroke:#2563eb,stroke-width:3px
    linkStyle 7 stroke:#2563eb,stroke-width:3px
    
    class A,B,C timeTracking
    class D timeAggregation
    class G,H table
    class I database
    class J external
    class TTM,TAM,DBM module
