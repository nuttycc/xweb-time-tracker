# Shared 共享资源层

## 目录职责
Shared层提供应用中所有模块共同使用的资源，包括类型定义、工具函数、常量配置等，为整个应用提供统一的基础设施。

## 功能边界
- ✅ **包含内容**：通用类型、工具函数、常量定义、配置管理、通用组件
- ❌ **不包含内容**：业务逻辑、特定模块的实现、数据库操作

## 子目录说明

### types/ - 类型定义
定义应用中通用的TypeScript类型、接口和枚举，为类型安全提供基础。

### utils/ - 工具函数
提供通用的工具函数，如日期处理、字符串操作、数据转换等。

### constants/ - 常量定义
定义应用中使用的各种常量，如配置参数、枚举值、默认设置等。

### config/ - 配置管理
管理应用的配置文件、环境变量和运行时配置。

## 设计原则

### 1. 无副作用
所有工具函数都应该是纯函数，不产生副作用，便于测试和复用。

### 2. 类型安全
充分利用TypeScript的类型系统，提供严格的类型定义。

### 3. 向后兼容
保持API的稳定性，避免破坏性变更。

### 4. 文档完整
每个函数和类型都应该有清晰的文档说明。

## 依赖关系
- **依赖**：无（作为基础层，不依赖其他应用模块）
- **被依赖**：所有其他模块（core/、services/、models/、entrypoints/）

## 使用规范

### 导入规范
```typescript
// 推荐：使用具体的导入路径
import { formatDuration } from '@/shared/utils/time';
import { DEFAULT_CONFIG } from '@/shared/constants/app';

// 避免：使用barrel导入（性能考虑）
import { formatDuration, DEFAULT_CONFIG } from '@/shared';
```

### 命名规范
- **函数**：使用动词开头的驼峰命名，如 `formatDuration`
- **常量**：使用大写下划线命名，如 `DEFAULT_RETENTION_POLICY`
- **类型**：使用帕斯卡命名，如 `TimeRange`
- **接口**：使用 `I` 前缀，如 `ILogger`

## 质量保证

### 单元测试
所有工具函数都必须有对应的单元测试，确保功能正确性。

### 性能考虑
工具函数应该考虑性能影响，避免不必要的计算和内存分配。

### 错误处理
提供清晰的错误处理机制，包括参数验证和异常情况处理。
